<f:layout name="Widget" />
<f:section name="Title"></f:section>
<f:section name="Content">
    <f:spaceless>
      ,"categoryFromWidget": [<f:for each="{categories}" iteration="categoryIterator" as="category">
        <f:render section="categoryWidget" arguments="{category: category,settings:settings,categoryIterator:categoryIterator}" />
        {f:if(condition: categoryIterator.isLast, else: ',')}
    </f:for>]
    </f:spaceless>
</f:section>
<f:section name="categoryWidget">
  <f:spaceless>
    <f:format.raw>
      <f:format.json value="{
        uid: category.uid,
        title: category.title,
        categoryPostCount: '{category.posts -> f:count()}'
      }"/>
    </f:format.raw>
  </f:spaceless>
</f:section>